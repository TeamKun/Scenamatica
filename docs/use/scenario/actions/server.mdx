import Action from "/src/components/Action";
import BelowDocument from "/src/components/BelowDocument";
import {ObjectType} from "/src/components/Object";

# サーバに関連するアクション

サーバに関連するアクションを列挙しています。

---

## 記述する際の注意 {#notes}

:::tip

**シナリオやシナリオファイルの概念が初めての方は、先に[こちら](..)を参照して理解しておいてください。**

:::

<BelowDocument docId="use/scenario/file-syntax"
               label="シナリオファイルを記述する際の注意"
               anchor="notes"
/>

## サーバのログ {#server-log}

<Action name="サーバログ"
        description="サーバのログを検知・送信します。"
        id="server_log"
        args={[
          {
            name: "level",
            anchor: "server-log-level",
            type: ObjectType.STRING,
            description: "ログのレベルを指定します。",
            default: "null | INFO"
          },
          {
            name: "message",
            anchor: "server-log-message",
            type: ObjectType.STRING,
            description: "ログの内容を**正規表現で**指定します。",
            required: true
          },
          {
            name: "sender",
            anchor: "server-log-sender",
            type: ObjectType.STRING,
            description: "ログの送信者を指定します。"
          }
        ]}
        executable watchable 
/>

### `level` {#server-log-level}

ログのレベルを指定します。指定しなかった場合、全てのレベルのログを検知し、送信時には `INFO` で送信されます。

Java の標準的なレベルを指定できます。詳しくは以下のリストを参照してください。

+ `INFO`
+ `WARN`, `WARNING`
+ `ERROR`
+ `CONFIG`
+ `FATAL`
+ `FINE`
+ `FINER`
+ `FINEST`
+ `DEBUG`
+ `SEVERE`
+ `TRACE`

:::warning

`OFF` および `ALL` は指定できません。

:::

### `message` {#server-log-message}

検知するログの内容を**正規表現で**指定します。

:::tip

ログの送信時はプレーンテキストで指定します。

:::

## プラグインの有効化 {#plugin-enable}

<Action name="プラグインの有効化"
        description="プラグインを有効化します。"
        id="server_plugin_enable"
        events={
          {
            name: "PluginEnableEvent",
            package: "org.bukkit.event.server",
          }
        }
        args={[
          {
            name: "plugin",
            type: ObjectType.STRING,
            description: "有効化するプラグインを指定します。",
            required: true
          }
        ]}
        executable watchable requireable
/>

## プラグインの無効化 {#plugin-disable}

<Action name="プラグインの無効化"
        description="プラグインを無効化します。"
        id="server_plugin_disable"
        events={
          {
            name: "PluginDisableEvent",
            package: "org.bukkit.event.server",
          }
        }
        args={[
          {
            name: "plugin",
            type: ObjectType.STRING,
            description: "無効化するプラグインを指定します。",
            required: true
          }
        ]}
        executable watchable requireable
/>

## コマンドの実行 {#command-dispatch}

<Action name="コマンドの実行"
        description="コマンドをサーバに送信します。"
        id="command_dispatch"
        events={[
          {
            name: "ServerCommandEvent",
            package: "org.bukkit.event.server",
          },
          {
            name: "PlayerCommandPreprocessEvent",
            package: "org.bukkit.event.player",
          }
        ]}
        args={[
          {
            name: "command",
            anchor: "command-dispatch-command",
            type: "string",
            description: "実行するコマンドを指定します。",
            required: true
          },
          {
            name: "sender",
            anchor: "command-dispatch-sender",
            type: "プレイヤ",
            description: "コマンドの実行者を指定します。",
            default: "<コンソール>"
          }
        ]}
        executable watchable
/>

### `command` {#command-dispatch-command}

実行するコマンドを指定します。

:::tip

**コマンドの指定には、`/`を付ける必要はありません。**（指定した場合は自動的に除去されます）

:::

### `sender` {#command-dispatch-sender}

コマンドの実行者を指定します。省略した場合は、コンソールが実行者になります。

## ホワイトリストのトグル {#whitelist}

<Action name="ホワイトリストのトグル"
        description="ホワイトリストを有効化・無効化します。"
        id="whitelist_toggle"
        events={
          {
            name: "WhitelistToggleEvent",
            package: "com.destroystokyo.paper.event.server",
          }
        }
        args={[
          {
            name: "enabled",
            type: ObjectType.BOOLEAN,
            description: "ホワイトリストを有効化するかどうかを指定します。"
          }
        ]}
        executable watchable requireable
/>
