import Action, {ScenarioType} from "/src/components/Action";
import BelowDocument from "/src/components/BelowDocument";
import {ObjectType} from "/src/components/Object";

# ブロックに関連するアクション

ブロックに関連するアクションを列挙しています。

---

## 記述する際の注意 {#notes}

:::tip

**シナリオやシナリオファイルの概念が初めての方は、先に[こちら](/docs/use/scenario)を参照して理解しておくことを推奨します。**

:::

<BelowDocument docId="use/scenario/scenario-file"
               label="シナリオファイルを記述する際の注意"
               anchor="notes"
/>

## 破壊 {#break}

<Action name="ブロックの破壊"
        description="ブロックを破壊します。"
        id="block_break"
        args={[
          {
            name: "actor",
            type: "PlayerSpecifier",
            type_link: "/docs/use/scenario/types/entities#player-specifier",
            anchor: "break-actor",
            description: "ブロックを破壊するアクタの ID です。",
            available: [ScenarioType.EXECUTE, ScenarioType.EXPECT]
          },
          {
            name: "block",
            anchor: "break-block",
            type: "Block",
            type_link: "/docs/use/scenario/types/misc#block-structure",
            description: "破壊するブロックです。",
            required: [ScenarioType.EXECUTE]
          },
          {
            name: "dropItems",
            type: ObjectType.BOOLEAN,
            description: "ブロックを破壊した際にアイテムをドロップするかどうかです。",
            available: [ScenarioType.EXPECT]
          }
        ]}
        executable={"ステージ上のブロックを破壊します。"}
        watchable={"ステージ上のブロックが破壊されるまで待機します。"}
        requireable={"ステージ上のブロックが破壊されているか（空気かどうか）を判定します。"}
/>

#### `actor` {#break-actor}

アクタは省略可能です。省略した場合は、自然破壊として扱われます。

:::warning

アクタではない、通常のプレイヤは指定できません。  
これは、 NMS との相互作用による制限です。

:::

#### `block` {#break-block}

ブロックの破壊を設定します。
アクタを[`actor`](#break-actor) で指定する場合, ワールドが同一である必要があります。

## 設置 {#place}

<Action name="ブロックの設置"
        description="ブロックを設置します。"
        id="block_place"
        args={[
          {
            name: "actor",
            type: "PlayerSpecifier",
            type_link: "/docs/use/scenario/types/entities#player-specifier",
            anchor: "place-actor",
            description: "ブロックを設置するアクタの ID です。",
          },
          {
            name: "block",
            type: "Block",
            type_link: "/docs/use/scenario/types/misc#block-structure",
            description: "設置するブロックです。",
            required: [ScenarioType.EXECUTE]
          },
          {
            name: "direction",
            type: "BlockFace{UP, DOWN, NORTH, EAST, SOUTH, WEST}",
            description: "設置するブロックの向きです。",
            available: [ScenarioType.EXECUTE]
          },
          {
            name: "hand",
            type: "EquipmentSlot{HAND, OFF_HAND}",
            description: "設置するブロックを持っている手です。",
          }
        ]}
        executable={"ステージ上にブロックを設置します。"}
        watchable={"ステージ上のブロックが設置されるまで待機します。"}
        requireable={"ステージ上にブロックが設置されているかを判定します。"}
/>

ブロックの設置をテストします。

条件要求シナリオでこれを使用した場合、指定された場所のブロックの種類が指定されたブロックと一致するかどうかをテストします。  

:::caution
実行シナリオでは、 `block`の[`type`](/docs/use/scenario/types/misc#block-structure) を空にできません。
:::

#### `actor` {#place-actor}

アクタを省略した場合、サーバがブロックを設置します。

:::warning

アクタではない、通常のプレイヤは指定できません。  
これは、 NMS との相互作用による制限です。

:::

