import Action from "/src/components/Action";
import BelowDocument from "/src/components/BelowDocument";
import {ObjectType} from "/src/components/Object";

# プレイヤに関連するアクション

プレイヤに関連するアクションを列挙しています。

---

## 記述する際の注意 {#notes}

:::tip

**シナリオやシナリオファイルの概念が初めての方は、先に[こちら](..)を参照して理解しておいてください。**

:::

<BelowDocument docId="use/scenario/file-syntax"
               label="シナリオファイルを記述する際の注意"
               anchor="notes"
/>


## 基本引数 {#general-arguments}

### `target` {#target}

対象のプレイヤの名前を指定するには、一律で `target` というキーの引数を使用します。

:::tip

`target` の指定は大文字小文字を区別しません。  
また、 **UUID でも指定できます**。

:::


## ゲームモード {#gamemode}

<Action name="ゲームモード"
        description="プレイヤのゲームモードに関するアクションです。"
        id="player_gamemode"
        args={[
          {
            name: "target",
            anchor: "target",
            description: "ゲームモードを変更するプレイヤーです。",
            type: "プレイヤ",
            required: true
          },
          {
            name: "gamemode",
            anchor: "gamemode-gamemode",
            description: "ゲームモードです。",
            type: "列挙型{SURVIVAL, CREATIVE, ADVENTURE, SPECTATOR}",
            required: true,
          },
          {
            name: "cause",
            description: "ゲームモード変更の原因です。",
            type: "列挙型{PLUGIN, COMMAND, DEFAULT_GAMEMODE, HARDCORE_DEATH, UNKNOWN}"
          },
          {
            name: "cancelMessage",
            anchor: "gamemode-cancel-message",
            description: "変更がキャンセルされた場合に表示するメッセージです（Paper)。",
            type: ObjectType.STRING,
          }
        ]}
        executable requireable watchable
/>

### `gamemode` {#gamemode-gamemode}

ゲームモードを指定します。  

:::warning

`gamemode` は上記に示す列挙型のみ指定できます。  
Minecraft 旧バージョンで使用できるゲームモード ID(`integer`: `0` 〜 `3`)は指定できません。

:::

### `cancelMessage` {#gamemode-cancel-message}

変更がキャンセルされた場合に表示するメッセージを指定します。

:::tip

この項目は PaperMC による変更で追加された項目です。  
詳しい動作は各ドキュメントを参照してください。

:::

## プレイヤの死亡およびキル {#death}

<Action name="プレイヤの死亡およびキル"
        description="プレイヤの死亡およびキルに関するアクションです。"
        id="player_death"
        args={[
          {
            name: "target",
            anchor: "target",
            description: "死亡するプレイヤーです。",
            type: "プレイヤ",
            required: true
          },
          {
            name: "killer",
            description: "殺したプレイヤーです。",
            type: ObjectType.STRING,
          },
          {
            name: "deathMessage",
            description: "死亡メッセージです。",
            type: ObjectType.STRING,
          },
          {
            name: "exp",
            description: "死亡したプレイヤーの新しい経験値です。",
            type: ObjectType.INTEGER,
            default: "(ゲームルールによる)"
          },
          {
            name: "totalExp",
            description: "死亡したプレイヤーの新しい総経験値です。",
            type: ObjectType.INTEGER,
            default: "(ゲームルールによる)"
            
          },
          {
            name: "keepLevel",
            description: "死亡したプレイヤーのレベルを保持するかどうかです。",
            type: ObjectType.BOOLEAN,
            default: "(ゲームルールによる)"
          },
          {
            name: "keepInventory",
            description: "死亡したプレイヤーのインベントリ内容を保持するかどうかです。",
            type: ObjectType.BOOLEAN,
            default: "(ゲームルールによる)"
          },
          {
            name: "keepExperience",
            description: "死亡したプレイヤーの経験値を保持するかどうかです。",
            type: ObjectType.BOOLEAN,
            default: "(ゲームルールによる)"
          },
          {
            name: "doExpDrop",
            description: "死亡したプレイヤーの経験値ドロップを行うかどうかです。",
            type: ObjectType.BOOLEAN,
            default: "(ゲームルールによる)"
          }
        ]}
        executable requireable watchable
/>

:::warning コンディションチェック時における注意

`deathMessage`, `exp`, `totalExp`, `keepLevel`, `keepInventory`, `keepExperience`  
および `doExpDrop` はコンディションチェック時には無視されます。

:::

## ホットバーのスロットの変更 {#hotbar}

<Action name="ホットバーのスロットの変更"
        description="ホットバーのスロットの変更に関するアクションです。"
        id="player_hotbar"
        args={[
          {
            name: "target",
            description: "ホットバーのスロットを変更するプレイヤーです。",
            type: "プレイヤ",
            required: true
          },
          {
            name: "slot",
            anchor: "hotbar-slots",
            description: "ホットバーのスロットです。",
            type: ObjectType.INTEGER,
            required: true
          },
          {
            name: "item",
            anchor: "hotbar-item",
            description: "ホットバーのスロットにあるアイテムです。",
            type: "ItemStack",
          },
        ]}
        executable requireable watchable
/>

### ホットバーのスロット {#hotbar-slots}

ホットバーのスロットは `0` から `8` の整数で指定します。

### ホットバーのアイテム {#hotbar-item}

この型は[こちら](../file-syntax/#item-stack-structure)を参照してください。

## プレイヤの投げ物の発射 {#projectile-launch}

<Action name="プレイヤの投げ物の発射"
        description="プレイヤの投げ物の発射に関するアクションです。"
        id="player_projectile_launch"
        args={[
          {
            name: "target",
            anchor: "target",
            description: "投げ物を発射するプレイヤーです。",
            type: "プレイヤ",
            required: true
          },
          {
            name: "type",
            anchor: "projectile-type",
            description: "発射される投げ物の種類です。",
            type: "Enum{...}",
            required: true
          },
          {
            name: "epsilon",
            anchor: "projectile-epsilon",
            description: "投げ物の発射ベクトルの誤差です。",
            type: ObjectType.DOUBLE,
            default: "0.001"
          }
        ]}
        executable requireable watchable
/>

### `type` {#projectile-type}

発射される投げ物の種類を指定します。以下の種類が指定できます。

|         種類          | 説明         |
|:-------------------:|:-----------|
|       `ARROW`       | 矢          |
|     `SNOWBALL`      | 雪玉         |
|        `EGG`        | 卵          |
|     `FIREBALL`      | ファイアーチャージ  |
|  `SMALL_FIREBALL`   | 小型の火球      |
|    `ENDER_PEARL`    | エンダーパール    |
|   `WITHER_SKULL`    | ウィザーの頭     |
|  `SHULKER_BULLET`   | シュルカーの弾丸   |
|  `DRAGON_FIREBALL`  | エンドドラゴンの火球 |
|      `POTION`       | ポーション      |
| `EXPERIENCE_BOTTLE` | 経験値ボトル     |
|       `ITEM`        | アイテム       |
|     `FIREWORK`      | 花火         |
|      `TRIDENT`      | トライデント     |
  

### `epsilon` {#projectile-epsilon}

投げ物をアクションで比較すする際に許容される誤差を指定します。

:::tip

この設定は、 `expect` アクションのみで有効です。

:::
