# マイルストーンシステム

マイルストーンシステムの概要と詳しい使い方について説明しています。

---

## 概要 {#overview}

マイルストーンは、シナリオの進行に関わるフラグを文字列で設定する機能です。これにより、特定の条件が満たされた場合にのみシナリオが実行されるようになります。
また、テスト中にも利用できるため、シナリオの進行を制御することができます。

さらに、マイルストーンはプラグインの Java コードからも操作できます。 
これにより、テストにおいて、コードの特定のポイントに到達したことを確認できます。

## マイルストーンのスコープ {#scope}

スコープは、設定されたマイルストーンがどのような範囲で有効かを管理するものです。
すべてのマイルストーンは、シナリオシステムの汚染を避けるため、スコープを持っています。

通常は自動でスコープが設定されますが、マイルストーンシステムを使用する際には、スコープを意識する必要があります。

### シナリオグローバル(`SCENARIO_GLOBAL`) スコープ {#scenario-global}

プラグインの特定のシナリオファイル内で有効なマイルストーンです。  
シナリオのアンロードやプラグインのアンロード時に破棄されます。

### トリガ・事前(`TRIGGER_BEFORE`) スコープ {#trigger-before}

トリガの事前シナリオ内で有効なマイルストーンです。  
事前シナリオの終了時に破棄されます。

### トリガ・事後(`TRIGGER_AFTER`) スコープ {#trigger-after}

トリガの事後シナリオ内で有効なマイルストーンです。  
事後シナリオの終了時に破棄されます。

### メインシナリオ(`MAIN_SCENARIO`) スコープ {#main-scenario}

メインシナリオ内で有効なマイルストーンです。  
メインシナリオの終了時に破棄されます。

## マイルストーンの使い方 {#usage}

マイルストーンは２つの方法で到達できます。  

1. シナリオのアクションから使用する。
  アクションからマイルストーンを設定するには、[<kbd>milestone</kbd>](actions/#milestone) アクションを使用します。
2. [プラグインのコードから使用する](#use-with-code)
  TODO: プラグインのコードからマイルストーンを設定する方法を記述する。
