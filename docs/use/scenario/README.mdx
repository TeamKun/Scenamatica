import BelowDocument from "/src/components/BelowDocument";

# シナリオ

シナリオの概念とその概要について説明しています。

---

## 概要

シナリオは、プラグインの機能をテストするための仕組みです。 Scenamaticaのメイン機能です。  
プラグインにシナリオを組み込んでおき、 ランタイム時に Scenamatica がシナリオを実行することで、プラグインの想定された動作をテストします。  
１つのファイル（シナリオファイルと呼ぶ）に１つのシナリオを記述します。


## シナリオの具体的な内容及び構造 {#scenario-elements}

<BelowDocument docId="use/scenario/elements"
               label="シナリオの具体的な内容及び構造"
/>

## シナリオの記述作業を開発フローに取り込む {#integrating-scenamatica}

シナリオ機能を利用するには, 開発時に [シナリオファイル](#scenario-file) を作成する作業が必要です。
そのため、プラグインの開発フローにシナリオの記述作業を取り込む必要があります。

以下に考えられるシュチュエーションと、開発フローの例を示します。

### 新規機能を作成するとき

1. プラグインの新規機能を開発する。
2. Scenamatica [シナリオファイル](#scenario-file) を記述する。
3. Scenamatica が導入されているサーバにデプロイする。
4. ステップ 2 で記述したシナリオのみを実行する。
5. テストが成功することを確認し、コミットする。

### 既存機能を修正するとき

1. プラグインの既存機能を修正する。
2. Scenamatica が導入されているサーバにデプロイする。
3. 既存のシナリオを実行する。
4. テストが成功することを確認し、コミットする。

### 機能のリリース前

1. Scenamatica が導入されているサーバにデプロイする。
2. 全てのシナリオ実行する。
3. テストが成功することを確認し、バージョンを変更、コミットする。
4. プッシュしリリースする。

## シナリオファイルについて {#scenario-file}

Scenamatica のシナリオは シナリオファイルと呼ばれる YAML ファイルで記述します。

<BelowDocument docId="use/scenario/file-syntax"
               label="シナリオファイル"
               message="シナリオファイルの構文については、以下のページを参照してください。" />

## Scenamaticaの実行フロー {#scenario-flow}

![Flow#550x](images/scenamatica-flow.svg)

### シナリオの実行フロー

![Scenario#550x](images/scenario.svg)
