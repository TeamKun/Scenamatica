import BelowDocument from "/src/components/BelowDocument";

# シナリオ

シナリオの概念とその概要について説明しています。

---

## 概要

シナリオは、プラグインのふるまいを定義するファイルと、それを実行するエンジンです。
開発者がプラグインの代表的な I/O (e.g. メッセージの送信、プレイヤゲームモードの変更...) を予めシナリオとして定義しておき、Scenamatica がそれをステップ実行します。
シナリオの実行結果はそのままテスト結果として出力されるため、プラグインの自動テストが実現されます。

## シナリオの具体的な内容及び構造 {#scenario-elements}

<BelowDocument docId="use/scenario/elements"
               label="シナリオの具体的な内容及び構造"
/>

## シナリオの記述作業を開発フローに取り込む {#integrating-scenamatica}

シナリオ機能を利用するには、プラグイン機能・テストごとに [シナリオファイル](#scenario-file) を作成する作業が必要です。
なぜなら、Scenamatica は何をしたらあなたのプラグインの機能が実行されるかや、その結果がどうなるかを知らないからです。
そのため、開発者がプラグインの機能を Scenamatica に教える必要があります。

シナリオファイルの記述は JUnit のテストコードの記述と同じように、開発フローに取り込めます。
例えば、新規機能を追加する際には、その機能を実装する前にシナリオファイルを作成し、それにそって実装を進めるとよいでしょう。

## シナリオファイルについて {#scenario-file}

Scenamatica のシナリオは シナリオファイルと呼ばれる YAML ファイルで記述します。  
シナリオファイルはプラグインの .jar ファイルの任意の場所に配置します。

<BelowDocument docId="use/scenario/file-syntax"
               label="シナリオファイル"
               message="シナリオファイルの構文については、以下のページを参照してください。" />

## Scenamaticaの実行フロー {#scenario-flow}

![Flow#550x](images/scenamatica-flow.svg)

### シナリオの実行フロー

![Scenario#550x](images/scenario.svg)
