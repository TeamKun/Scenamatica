# noinspection YAMLSchemaValidation
scenamatica: ${project.version}

name: actions_entity_damage_2
description: Testing entity_damage action works or not
on:
  - type: on_load
    before:
      - action: command_dispatch
        type: execute
        with:
          command: 'summon minecraft:parrot 0 155 0 {Tags:["810snpi"]}'
    after:
      - action: command_dispatch
        type: execute
        with:
          command: 'kill @e[type=minecraft:parrot,tag=810snpi]'
  - type: manual_dispatch
    before:
      - action: command_dispatch
        type: execute
        with:
          command: 'summon minecraft:parrot 0 155 0 {Tags:["810snpi"]}'
    after:
      - action: command_dispatch
        type: execute
        with:
          command: 'kill @e[type=minecraft:parrot,tag=810snpi]'
scenario:
  - type: execute
    action: entity_damage
    with:
      amount: 3
      target: "@e[type=minecraft:parrot,tag=810snpi]"
  - type: expect
    action: entity_damage
    with:
      target: "@e[type=minecraft:parrot,tag=810snpi]"
      amount: 3
    timeout: 20

