{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Scenamatica Scenario File",
  "type": "object",
  "definitions": {
    "version": {
      "type": "string",
      "pattern": "^v?(?<major>[0-9]\\d*)\\.(?<minor>0|[1-9]\\d*)(\\.(?<patch>0|[1-9]\\d*))?(-(?<preRelease>(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+(?<buildMetadata>[0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
      "examples": [
        "v3.0.0",
        "3.0.0-alpha.1",
        "v3.0.0-alpha.1+build.1",
        "3.0.0+build.1",
        "v3.0.0+build.1.2.b8f12d7",
        "3.0.0-beta.2",
        "v3.0.0-beta.11",
        "3.0.0-rc.1",
        "v3.0.0-rc.1+build.1",
        "3.0.0-rc.1+build.1.2.b8f12d7"
      ]
    },
    "namespacedKey": {
      "type": "string",
      "pattern": "^([a-z0-9_/]+:)?[a-z0-9_/]+$",
      "description": "名前空間付きキーです。 名前空間を指定しない場合は, minecraft: が暗黙的に指定されます。",
      "examples": [
        "minecraft:stone",
        "stone"
      ]
    },
    "itemSlot": {
      "type": "string",
      "enum": [
        "HAND",
        "OFF_HAND",
        "FEET",
        "LEGS",
        "CHEST",
        "HEAD",
        "hand",
        "off_hand",
        "feet",
        "legs",
        "chest",
        "head"
      ]
    },
    "scenarios": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/scenario"
      },
      "maxProperties": 1
    },
    "scenario": {
      "type": "object",
      "$ref": "#/definitions/action",
      "properties": {
        "type": {
          "type": "string",
          "description": "シナリオの種類です。",
          "oneOf": [
            {
              "const": "expect",
              "description": "アクションがプラグインによって実行されるか監視します。"
            },
            {
              "const": "execute",
              "description": "アクションを実行します。"
            },
            {
              "const": "require",
              "description": "条件が満たされているかチェックします。"
            }
          ]
        },
        "timeout": {
          "type": "integer",
          "description": "シナリオのタイムアウト時間を**チック**で指定します。-1 で無効化します。",
          "minimum": -1,
          "default": 100
        },
        "runif": {
          "type": "object",
          "description": "シナリオの実行条件を定義します。アクションで定義します。満たしていない場合はスキップされます。",
          "$ref": "#/definitions/action"
        }
      },
      "required": [
        "type",
        "action"
      ]
    },
    "action": {
      "type": "object",
      "properties": {
        "action": {
          "type": "string",
          "description": "アクションの種類です。 ",
          "enum": [
            "block_break",
            "block_place",
            "entity",
            "entity_damage",
            "entity_damage_by_entity",
            "entity_drop_item",
            "entity_place",
            "entity_spawn",
            "inventory_click",
            "inventory_close",
            "inventory_open",
            "player_advancement",
            "player_animation",
            "player_chat",
            "player_death",
            "player_drop_item",
            "player_flight",
            "player_gamemode",
            "player_hotbar",
            "player_interact_block",
            "player_item_break",
            "player_item_consume",
            "player_join",
            "player_kick",
            "player_launch_projectile",
            "player_quit",
            "player_respawn",
            "player_sneak",
            "player_sprint",
            "message",
            "milestone",
            "negate",
            "server_log",
            "server_plugin_enable",
            "server_plugin_disable",
            "broadcast",
            "command_dispatch",
            "whitelist_toggle",
            "world_border",
            "world_border_changed",
            "world_game_rule",
            "world_init",
            "world_load",
            "world_save",
            "world_unload"
          ]
        },
        "with": {
          "type": "object",
          "description": "アクションの種類によっては, このプロパティにアクションの引数を指定します。"
        }
      },
      "required": [
        "action"
      ],
      "$comment": "以下はアクションの引数をひたすら記述する。",
      "allOf": [
        {
          "if": {
            "properties": {
              "action": {
                "const": "block_break",
                "description": "ブロックの破壊を検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/block/break"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "block_place",
                "description": "ブロックの設置を検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/block/place"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "entity",
                "description": "エンティティの状態を変更します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/entity/entity"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "entity_damage",
                "description": "エンティティのダメージを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/entity/damage"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "entity_drop_item",
                "description": "エンティティのアイテムのドロップを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/entity/dropItem"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "entity_damage_by_entity",
                "description": "エンティティによるエンティティのダメージを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/entity/damageByEntity"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "entity_place",
                "description": "エンティティの設置を検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/entity/place"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "entity_spawn",
                "description": "エンティティのスポーンを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/entity/spawn"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "inventory_click",
                "description": "インベントリのクリックを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/inventory/interact/click"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "inventory_close",
                "description": "インベントリを閉じることを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/inventory/close"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "inventory_open",
                "description": "インベントリを開くことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/inventory/open"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_advancement",
                "description": "プレイヤーの進捗の達成や達成度を検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/advancement"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_animation",
                "description": "プレイヤーのアニメーションを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/animation"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_chat",
                "description": "プレイヤーのチャットを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/chat"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_death",
                "description": "プレイヤーを殺したり, 殺されたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/death"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_drop_item",
                "description": "プレイヤーを殺したり, 殺されたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/drop_item"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_flight",
                "description": "プレイヤーの飛行状態を変更したり, 変更されたことを検知, または飛行状態を判定します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/flight"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_gamemode",
                "description": "プレイヤーのゲームモードを変更したり, 変更されたことを検知, またはゲームモードを判定します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/gamemode"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_hotbar",
                "description": "プレイヤーが手荷物アイテムを変更したり, 変更されたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/hotbar"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_interact_block",
                "description": "プレイヤーがブロックやエンティティを右クリックしたり, 右クリックされたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/interact_block"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_item_consume",
                "description": "プレイヤーがアイテムを消費したり, 消費されたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/item_consume"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_item_break",
                "description": "プレイヤーがアイテムを破壊したり, 破壊したことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/item_break"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_join",
                "description": "プレイヤーがサーバに参加したり, 参加したことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/join"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_kick",
                "description": "プレイヤーがサーバからキックされたり, キックされたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/kick"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_projectile_launch",
                "description": "プレイヤーが投げ物を発射したり, 発射されたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/launch_projectile"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_quit",
                "description": "プレイヤーがサーバから退出したり, 退出したことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/quit"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_respawn",
                "description": "プレイヤーがリスポーンしたり, リスポーンしたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/quit"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_sneak",
                "description": "プレイヤーがスニークしたり, スニークしたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/sneak"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "player_sprint",
                "description": "プレイヤーが走ったり, 走ったことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/player/sprint"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "message",
                "description": "プレイヤーにメッセージを送信したり, 送信されたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/scenamatica/message"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "milestone",
                "description": "マイルストーンを達成したり, 達成されたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/scenamatica/milestone"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "negate",
                "description": "コンディション要求アクションの判定結果を反転します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/scenamatica/negate"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "server_log",
                "description": "サーバのログを検知したり, ログを送信します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/server/log"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "server_plugin_disable",
                "description": "プラグインが無効化されたり, 無効化されたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/server/plugin_disable"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "server_plugin_enable",
                "description": "プラグインが有効化されたり, 有効化されたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/server/plugin_enable"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "broadcast",
                "description": "サーバにブロードキャストメッセージを送信します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/server/broadcast"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "command_dispatch",
                "description": "コマンドを実行したり, 実行されたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/server/command_dispatch"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "whitelist_toggle",
                "description": "ホワイトリストが有効化されたり, 有効化されたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/server/whitelist_toggle"
              }
            },
            "required": [
              "with"
            ]
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "world_border",
                "description": "ワールドボーダの変更を検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/world/border/world_border"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "world_border_changed",
                "description": "ワールドボーダの変更が完了したことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/world/border/world_border_changed"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "world_game_rule",
                "description": "ワールドのゲームルールを変更したり, 変更されたことを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/world/game_rule"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "world_init",
                "description": "ワールドの初期化を検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/world/init"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "world_load",
                "description": "ワールドの読み込みを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/world/load"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "world_save",
                "description": "ワールドの保存を検知したり, 保存します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/world/save"
              }
            }
          }
        },
        {
          "if": {
            "properties": {
              "action": {
                "const": "world_unload",
                "description": "ワールドのアンロードを検知します。"
              }
            }
          },
          "then": {
            "properties": {
              "with": {
                "$ref": "#/definitions/action/definitions/world/unload"
              }
            }
          }
        }
      ],
      "definitions": {
        "block": {
          "$base": {
            "properties": {
              "block": {
                "description": "対象のブロックです。",
                "$ref": "#/definitions/block"
              }
            }
          },
          "break": {
            "type": "object",
            "description": "ブロックが破壊されたことを検知します。",
            "$ref": "#/definitions/action/definitions/block/$base",
            "properties": {
              "actor": {
                "type": "string",
                "description": "ブロックを破壊したアクタの名前です。",
                "maxLength": 16
              },
              "dropItems": {
                "type": "boolean",
                "description": "ブロックがドロップするアイテムをドロップするかどうかです。"
              }
            }
          },
          "place": {
            "type": "object",
            "description": "ブロックが設置されたことを検知します。",
            "$ref": "#/definitions/action/definitions/block/$base",
            "properties": {
              "actor": {
                "type": "string",
                "description": "ブロックを破壊したアクタの名前です。",
                "maxLength": 16
              },
              "hand": {
                "type": "string",
                "description": "ブロックを設置した手です。",
                "enum": [
                  "HAND",
                  "OFF_HAND",
                  "hand",
                  "off_hand"
                ]
              },
              "direction": {
                "type": "string",
                "description": "ブロックを設置する方向です。",
                "enum": [
                  "UP",
                  "DOWN",
                  "NORTH",
                  "SOUTH",
                  "WEST",
                  "EAST",
                  "up",
                  "down",
                  "north",
                  "south",
                  "west",
                  "east"
                ]
              }
            }
          }
        },
        "entity": {
          "$base": {
            "properties": {
              "target": {
                "description": "対象のエンティティです。",
                "oneOf": [
                  {
                    "type": "string",
                    "description": "エンティティの UUID またはセレクタです。"
                  },
                  {
                    "$ref": "#/definitions/entity"
                  }
                ]
              }
            }
          },
          "entity": {
            "$ref": "#/definitions/action/definitions/entity/$base",
            "properties": {
              "entity": {
                "$ref": "#/definitions/entity",
                "description": "変更する値です。"
              }
            }
          },
          "damage": {
            "$ref": "#/definitions/action/definitions/entity/$base",
            "properties": {
              "cause": {
                "type": "string",
                "description": "ダメージの種類です。",
                "enum": [
                  "CONTACT",
                  "ENTITY_ATTACK",
                  "ENTITY_SWEEP_ATTACK",
                  "PROJECTILE",
                  "SUFFOCATION",
                  "FALL",
                  "FIRE",
                  "FIRE_TICK",
                  "MELTING",
                  "LAVA",
                  "DROWNING",
                  "BLOCK_EXPLOSION",
                  "ENTITY_EXPLOSION",
                  "VOID",
                  "LIGHTNING",
                  "SUICIDE",
                  "STARVATION",
                  "POTION",
                  "MAGIC",
                  "WITHER",
                  "FALLING_BLOCK",
                  "THORNS",
                  "DRAGON_BREATH",
                  "CUSTOM",
                  "FLY_INTO_WALL",
                  "HOT_FLOOR",
                  "CRAMMING",
                  "DRYOUT"
                ]
              },
              "amount": {
                "type": "number",
                "description": "与えるダメージの量(float)です。",
                "min": 0
              },
              "modifiers": {
                "type": "object",
                "patternProperties": {
                  "^\\w+$": {
                    "type": "number",
                    "min": 0
                  }
                }
              }
            }
          },
          "damageByEntity": {
            "$ref": "#/definitions/action/definitions/entity/damage",
            "properties": {
              "damager": {
                "description": "ダメージ元のエンティティのUUIDまたはセレクタです。",
                "type": "string"
              }
            }
          },
          "dropItem": {
            "$ref": "#/definitions/action/definitions/entity/$base",
            "properties": {
              "item": {
                "description": "ドロップするアイテムです。",
                "$ref": "#/definitions/entityItem"
              }
            }
          },
          "place": {
            "properties": {
              "$ref": "#/definitions/action/definitions/entity/damage",
              "target": {
                "description": "設置するエンティティの UUID, セレクタ, 実体, または Material です。"
              },
              "player": {
                "description": "設置するプレイヤーの名前または UUID です。",
                "type": "string"
              },
              "block": {
                "description": "設置場所のブロックです。",
                "$ref": "#/definitions/block"
              },
              "direction": {
                "description": "設置する方向です。",
                "type": "string",
                "enum": [
                  "UP",
                  "DOWN",
                  "NORTH",
                  "SOUTH",
                  "WEST",
                  "EAST",
                  "up",
                  "down",
                  "north",
                  "south",
                  "west",
                  "east"
                ]
              }
            }
          },
          "spawn": {
            "properties": {
              "entity": {
                "$ref": "#/definitions/entity"
              }
            }
          }
        },
        "inventory": {
          "$base": {
            "properties": {
              "inventory": {
                "description": "対象のインベントリです。",
                "$ref": "#/definitions/inventory"
              }
            }
          },
          "$definitions": {
            "clickType": {
              "type": "string",
              "description": "クリックの種類です。",
              "enum": [
                "LEFT",
                "SHIFT_LEFT",
                "RIGHT",
                "SHIFT_RIGHT",
                "WINDOW_BORDER_LEFT",
                "WINDOW_BORDER_RIGHT",
                "MIDDLE",
                "NUMBER_KEY",
                "DOUBLE_CLICK",
                "DROP",
                "CONTROL_DROP",
                "CREATIVE",
                "SWAP_OFFHAND",
                "UNKNOWN",
                "left",
                "shift_left",
                "right",
                "shift_right",
                "window_border_left",
                "window_border_right",
                "middle",
                "number_key",
                "double_click",
                "drop",
                "control_drop",
                "creative",
                "swap_offhand",
                "unknown"
              ]
            },
            "inventoryAction": {
              "type": "string",
              "description": "インベントリのアクションです。",
              "enum": [
                "NOTHING",
                "PICKUP_ALL",
                "PICKUP_SOME",
                "PICKUP_HALF",
                "PICKUP_ONE",
                "PLACE_ALL",
                "PLACE_SOME",
                "PLACE_ONE",
                "SWAP_WITH_CURSOR",
                "DROP_ALL_CURSOR",
                "DROP_ONE_CURSOR",
                "DROP_ALL_SLOT",
                "DROP_ONE_SLOT",
                "MOVE_TO_OTHER_INVENTORY",
                "HOTBAR_MOVE_AND_REA",
                "HOTBAR_SWAP",
                "CLONE_STACK",
                "COLLECT_TO_CURSOR",
                "UNKNOWN",
                "nothing",
                "pickup_all",
                "pickup_some",
                "pickup_half",
                "pickup_one",
                "place_all",
                "place_some",
                "place_one",
                "swap_with_cursor",
                "drop_all_cursor",
                "drop_one_cursor",
                "drop_all_slot",
                "drop_one_slot",
                "move_to_other_inventory",
                "hotbar_move_and_readd",
                "hotbar_swap",
                "clone_stack",
                "collect_to_cursor",
                "unknown"
              ]
            },
            "slotType": {
              "type": "string",
              "description": "スロットの種類です。",
              "enum": [
                "RESULT",
                "CRAFTING",
                "ARMOR",
                "CONTAINER",
                "QUICKBAR",
                "OUTSIDE",
                "FUEL",
                "result",
                "crafting",
                "armor",
                "container",
                "quickbar",
                "outside",
                "fuel"
              ]
            },
            "closeReason": {
              "type": "string",
              "description": "インベントリを閉じた理由です。",
              "enum": [
                "UNKNOWN",
                "TELEPORT",
                "CANT_USE",
                "UNLOADED",
                "OPEN_NEW",
                "PLAYER",
                "DISCONNECT",
                "DEATH",
                "PLUGIN"
              ]
            }
          },
          "interact": {
            "$base": {
              "$ref": "#/definitions/action/definitions/inventory/$base",
              "properties": {
                "target": {
                  "type": "string",
                  "description": "対象のプレイヤーです。"
                }
              },
              "required": [
                "target"
              ]
            },
            "click": {
              "$base": "#/definitions/action/definitions/inventory/interact",
              "properties": {
                "type": {
                  "$ref": "#/definitions/action/definitions/inventory/$definitions/clickType"
                },
                "action": {
                  "$ref": "#/definitions/action/definitions/inventory/$definitions/inventoryAction"
                },
                "slotType": {
                  "$ref": "#/definitions/action/definitions/inventory/$definitions/slotType"
                },
                "slot": {
                  "type": "integer",
                  "description": "スロット番号です。",
                  "minimum": 0,
                  "maximum": 40
                },
                "rawSlot": {
                  "type": "integer",
                  "description": "スロット番号です。",
                  "minimum": 0
                },
                "clickedItem": {
                  "description": "クリックされたアイテムです。",
                  "$ref": "#/definitions/itemStack"
                },
                "button": {
                  "type": "integer",
                  "description": "ボタンの番号です。",
                  "minimum": 0
                },
                "cursorItem": {
                  "description": "カーソルにあるアイテムです。",
                  "$ref": "#/definitions/itemStack"
                }
              }
            }
          },
          "close": {
            "$base": {
              "$ref": "#/definitions/action/definitions/inventory/$base",
              "properties": {
                "target": {
                  "type": "string",
                  "description": "対象のプレイヤーです。"
                },
                "reason": {
                  "$ref": "#/definitions/action/definitions/inventory/$definitions/closeReason"
                }
              }
            }
          },
          "open": {
            "$ref": "#/definitions/action/definitions/inventory/$base",
            "properties": {
              "inventory": {
                "description": "開くインベントリです。",
                "$ref": "#/definitions/inventory"
              }
            }
          }
        },
        "player": {
          "$base": {
            "properties": {
              "target": {
                "type": "string",
                "description": "対象のプレイヤーです。"
              }
            }
          },
          "advancement": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "advancement": {
                "type": "string",
                "description": "達成する進捗です。",
                "maxLength": 32767,
                "$ref": "#/definitions/namespacedKey"
              },
              "criterion": {
                "type": "string",
                "description": "達成する条件です。省略した場合は全ての条件を達成します。",
                "maxLength": 32767,
                "$ref": "#/definitions/namespacedKey"
              }
            }
          },
          "animation": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "type": {
                "type": "string",
                "description": "再生するアニメーションの種類です。",
                "enum": [
                  "arm_swing",
                  "ARM_SWING"
                ]
              }
            }
          },
          "chat": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "message": {
                "type": "string",
                "description": "送信するメッセージまたは判定用の正規表現です。"
              },
              "format": {
                "type": "string",
                "description": "メッセージのフォーマットです。",
                "example": "<%1$s> %2$s"
              }
            }
          },
          "death": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "killer": {
                "type": "string",
                "description": "ターゲットを殺すプレイヤーです。"
              },
              "deathMessage": {
                "type": "string",
                "description": "死亡メッセージです。"
              },
              "exp": {
                "type": "integer",
                "description": "死亡時したプレイヤの新しい経験値です。",
                "minimum": 0
              },
              "level": {
                "type": "integer",
                "description": "死亡時したプレイヤの新しいレベルです。",
                "minimum": 0
              },
              "totalExp": {
                "type": "integer",
                "description": "死亡時したプレイヤの新しい総経験値です。",
                "minimum": 0
              },
              "keepLevel": {
                "type": "boolean",
                "description": "死亡時したプレイヤのレベルを保持するかどうかです。"
              },
              "keepInventory": {
                "type": "boolean",
                "description": "死亡時したプレイヤのインベントリを保持するかどうかです。"
              },
              "doExpDrop": {
                "type": "boolean",
                "description": "死亡時したプレイヤの経験値ドロップをするかどうかです。"
              }
            }
          },
          "gamemode": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "gamemode": {
                "type": "string",
                "description": "ゲームモードです。",
                "enum": [
                  "survival",
                  "creative",
                  "adventure",
                  "spectator",
                  "SURVIVAL",
                  "CREATIVE",
                  "ADVENTURE",
                  "SPECTATOR"
                ]
              },
              "cause": {
                "type": "string",
                "description": "ゲームモードを変更した原因です。",
                "enum": [
                  "command",
                  "plugin",
                  "default_gamemode",
                  "hardcore_death",
                  "unknown",
                  "COMMAND",
                  "PLUGIN",
                  "DEFAULT_GAMEMODE",
                  "HARDCORE_DEATH",
                  "UNKNOWN"
                ]
              },
              "cancelMessage": {
                "type": "string",
                "description": "ゲームモード変更をキャンセルされたときに表示するメッセージです。PaperMC の改造の一部で、通常は使用しません。"
              }
            }
          },
          "drop_item": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "item": {
                "description": "ドロップするアイテムです。",
                "$ref": "#/definitions/entityItem"
              }
            }
          },
          "flight": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "flying": {
                "type": "boolean",
                "description": "プレイヤーが飛行中かどうかです。"
              }
            }
          },
          "hotbar": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "slot": {
                "type": "integer",
                "description": "ホットバーのスロットです。",
                "minimum": 0,
                "maximum": 8
              },
              "previous_slot": {
                "type": "integer",
                "description": "ホットバーのスロットが変更される前のスロットです。",
                "minimum": 0,
                "maximum": 8
              },
              "item": {
                "description": "ホットバーのスロットに入っているアイテムです。",
                "$ref": "#/definitions/itemStack"
              }
            }
          },
          "interact_block": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "action": {
                "type": "string",
                "description": "プレイヤーが行ったアクションです。",
                "enum": [
                  "RIGHT_CLICK_BLOCK",
                  "LEFT_CLICK_BLOCK",
                  "RIGHT_CLICK_AIR",
                  "LEFT_CLICK_AIR",
                  "right_click_block",
                  "left_click_block",
                  "right_click_air",
                  "left_click_air"
                ]
              },
              "block": {
                "description": "プレイヤーがクリックしたブロックです。",
                "$ref": "#/definitions/block"
              },
              "hand": {
                "type": "string",
                "description": "プレイヤーがクリックした手です。",
                "enum": [
                  "HAND",
                  "OFF_HAND",
                  "hand",
                  "off_hand"
                ]
              }
            }
          },
          "item_break": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "item": {
                "description": "壊れたアイテムです。",
                "$ref": "#/definitions/itemStack"
              },
              "slot": {
                "description": "壊れたアイテムが入っていたスロットです。",
                "$ref": "#/definitions/itemSlot"
              }
            }
          },
          "item_consume": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "item": {
                "description": "消費するアイテムです。",
                "$ref": "#/definitions/itemStack"
              },
              "replacement": {
                "description": "消費後にプレイヤーに与えるアイテムです。",
                "$ref": "#/definitions/itemStack"
              }
            }
          },
          "join": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "message": {
                "type": "string",
                "description": "プレイヤーがサーバーに参加したときに表示するメッセージです。"
              }
            }
          },
          "kick": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "leaveMessage": {
                "type": "string",
                "description": "プレイヤーがサーバーから退出したときに表示するメッセージです。"
              },
              "message": {
                "type": "string",
                "description": "プレイヤーがサーバーからキックされたときに表示するメッセージです。"
              },
              "cause": {
                "type": "string",
                "description": "プレイヤーがサーバーからキックされた原因です。",
                "enum": [
                  "plugin",
                  "whitelist",
                  "banned",
                  "ip_banned",
                  "kick_command",
                  "flying_player",
                  "flying_vehicle",
                  "timeout",
                  "idling",
                  "invalid_vehicle_movement",
                  "invalid_player_movement",
                  "invalid_entity_attacked",
                  "invalid_payload",
                  "spam",
                  "illegal_action",
                  "illegal_characters",
                  "self_interaction",
                  "duplicate_login",
                  "restart_command",
                  "unknown",
                  "PLUGIN",
                  "WHITELIST",
                  "BANNED",
                  "IP_BANNED",
                  "KICK_COMMAND",
                  "FLYING_PLAYER",
                  "FLYING_VEHICLE",
                  "TIMEOUT",
                  "IDLING",
                  "INVALID_VEHICLE_MOVEMENT",
                  "INVALID_PLAYER_MOVEMENT",
                  "INVALID_ENTITY_ATTACKED",
                  "INVALID_PAYLOAD",
                  "SPAM",
                  "ILLEGAL_ACTION",
                  "ILLEGAL_CHARACTERS",
                  "SELF_INTERACTION",
                  "DUPLICATE_LOGIN",
                  "RESTART_COMMAND",
                  "UNKNOWN"
                ]
              }
            }
          },
          "launch_projectile": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "type": {
                "type": "string",
                "description": "投げ物の種類です。",
                "enum": [
                  "arrow",
                  "snowball",
                  "egg",
                  "fireball",
                  "small_fireball",
                  "ender_pearl",
                  "wither_skull",
                  "shulker_bullet",
                  "dragon_fireball",
                  "potion",
                  "experience_bottle",
                  "item",
                  "firework",
                  "trident",
                  "ARROW",
                  "SNOWBALL",
                  "EGG",
                  "FIREBALL",
                  "SMALL_FIREBALL",
                  "ENDER_PEARL",
                  "WITHER_SKULL",
                  "SHULKER_BULLET",
                  "DRAGON_FIREBALL",
                  "POTION",
                  "EXPERIENCE_BOTTLE",
                  "ITEM",
                  "FIREWORK",
                  "TRIDENT"
                ]
              },
              "velocity": {
                "description": "投げ物の速度や向きです。",
                "$ref": "#/definitions/vector"
              },
              "epsilon": {
                "description": "投げ物の速度や向きを比較する際に許容する誤差です。",
                "$ref": "#/definitions/vector"
              }
            },
            "required": [
              "type"
            ]
          },
          "quit": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "message": {
                "type": "string",
                "description": "プレイヤーがサーバーから退出したときに表示するメッセージです。"
              },
              "reason": {
                "type": "string",
                "description": "プレイヤーがサーバーから退出した原因です。",
                "enum": [
                  "disconnected",
                  "kicked",
                  "timed_out",
                  "erroneous_state",
                  "DISCONNECTED",
                  "KICKED",
                  "TIMED_OUT",
                  "ERRONEOUS_STATE"
                ]
              }
            }
          },
          "respawn": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "isBed": "boolean",
              "description": "プレイヤーがベッドでスポーンするかどうかです。"
            },
            "isAnchor": {
              "type": "boolean",
              "description": "プレイヤーが錨でスポーンするかどうかです。"
            },
            "location": {
              "description": "プレイヤーがスポーンする場所です。",
              "$ref": "#/definitions/location"
            }
          },
          "sneak": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "sneaking": {
                "type": "boolean",
                "description": "プレイヤーがスニークしているかどうかです。"
              }
            }
          },
          "sprint": {
            "$ref": "#/definitions/action/definitions/player/$base",
            "properties": {
              "sneaking": {
                "type": "boolean",
                "description": "プレイヤーが走っているかどうかです。"
              }
            }
          }
        },
        "scenamatica": {
          "message": {
            "properties": {
              "message": {
                "type": "string",
                "description": "メッセージの内容です。",
                "maxLength": 32768
              },
              "recipient": {
                "type": "string",
                "description": "メッセージを受け取るプレイヤーの名前または UUID です。"
              }
            },
            "required": [
              "message",
              "recipient"
            ]
          },
          "milestone": {
            "properties": {
              "name": {
                "type": "string",
                "description": "マイルストーンの名前です。"
              },
              "reached": {
                "type": "boolean",
                "description": "マイルストーンに到達したかどうかです。検証時はこれと比較します。"
              }
            },
            "required": [
              "name"
            ]
          },
          "negate": {
            "$ref": "#/definitions/action"
          }
        },
        "server": {
          "log": {
            "properties": {
              "message": {
                "type": "string",
                "description": "対象のログを正規表現で記述します。"
              },
              "level": {
                "type": "string",
                "description": "ログのレベルです。",
                "enum": [
                  "info",
                  "warning",
                  "warn",
                  "error",
                  "config",
                  "debug",
                  "trace",
                  "fatal",
                  "fine",
                  "finer",
                  "finest",
                  "severe",
                  "INFO",
                  "WARNING",
                  "WARN",
                  "ERROR",
                  "CONFIG",
                  "DEBUG",
                  "TRACE",
                  "FATAL",
                  "FINE",
                  "FINER",
                  "FINEST",
                  "SEVERE"
                ]
              },
              "sender": {
                "type": "string",
                "description": "ログを送信したプラグインやロガーの名前です。"
              }
            },
            "required": [
              "message"
            ]
          },
          "plugin_disable": {
            "properties": {
              "plugin": {
                "type": "string",
                "description": "無効化されるプラグインです。"
              }
            },
            "required": [
              "plugin"
            ]
          },
          "plugin_enable": {
            "properties": {
              "plugin": {
                "type": "string",
                "description": "有効化されるプラグインです。"
              }
            },
            "required": [
              "plugin"
            ]
          },
          "broadcast": {
            "properties": {
              "message": {
                "type": "string",
                "description": "送信するメッセージかその判定用の正規表現です。"
              },
              "recipients": {
                "type": "array",
                "description": "メッセージを受け取るプレイヤーの名前です。",
                "items": {
                  "type": "string"
                }
              },
              "permission": {
                "type": "string",
                "description": "メッセージを受け取るために必要な権限です。"
              },
              "strictRecipients": {
                "type": "boolean",
                "description": "有効な場合、余計なプレイヤがメッセージを受け取ると失敗します。"
              }
            },
            "required": [
              "message"
            ]
          },
          "command_dispatch": {
            "properties": {
              "command": {
                "type": "string",
                "description": "実行されるコマンドです。実行を検知する場合は正規表現を使用できます。"
              },
              "sender": {
                "type": "string",
                "description": "実行するプレイヤーです。省略した場合はコンソールです。"
              }
            },
            "required": [
              "command"
            ]
          },
          "whitelist_toggle": {
            "properties": {
              "enabled": {
                "type": "boolean",
                "description": "ホワイトリストが有効かどうかです。"
              }
            },
            "required": [
              "enabled"
            ]
          }
        },
        "world": {
          "properties": {
            "world": {
              "description": "ワールドの名前の名前空間付きキーです。",
              "$ref": "#/definitions/namespacedKey"
            }
          },
          "border": {
            "world_border": {
              "$ref": "#/definitions/action/definitions/world",
              "properties": {
                "type": {
                  "type": "string",
                  "description": "ワールドボーダの変更の種類です。",
                  "enum": [
                    "STARTED_MOVE",
                    "INSTANT_MOVE",
                    "started_move",
                    "instant_move"
                  ]
                },
                "size": {
                  "type": "number",
                  "description": "ワールドボーダのサイズです。"
                },
                "size_old": {
                  "type": "number",
                  "description": "ワールドボーダのサイズの変更前の値です。"
                },
                "duration": {
                  "type": "number",
                  "description": "ワールドボーダの変更にかかる時間です。"
                },
                "center": {
                  "type": "object",
                  "description": "ワールドボーダの中心座標です。",
                  "$ref": "#/definitions/location"
                },
                "center_old": {
                  "type": "object",
                  "description": "ワールドボーダの中心座標の変更前の値です。",
                  "$ref": "#/definitions/location"
                }
              }
            },
            "world_border_changed": {
              "$ref": "#/definitions/action/definitions/world",
              "properties": {
                "size": {
                  "type": "number",
                  "description": "ワールドボーダのサイズです。"
                },
                "size_old": {
                  "type": "number",
                  "description": "ワールドボーダのサイズの変更前の値です。"
                },
                "duration": {
                  "type": "number",
                  "description": "ワールドボーダの変更にかかる時間です。"
                }
              }
            }
          },
          "game_rule": {
            "$ref": "#/definitions/action/definitions/world",
            "properties": {
              "rule": {
                "type": "string",
                "description": "ゲームルールの名前です。",
                "enum": [
                  "announceAdvancements",
                  "commandBlockOutput",
                  "disableElytraMovementCheck",
                  "disableRaids",
                  "doDaylightCycle",
                  "doEntityDrops",
                  "doFireTick",
                  "doImmediateRespawn",
                  "doInsomnia",
                  "doLimitedCrafting",
                  "doMobLoot",
                  "doMobSpawning",
                  "doPatrolSpawning",
                  "doTileDrops",
                  "doTraderSpawning",
                  "doWeatherCycle",
                  "drowningDamage",
                  "fallDamage",
                  "fireDamage",
                  "forgiveDeadPlayers",
                  "keepInventory",
                  "logAdminCommands",
                  "maxCommandChainLength",
                  "maxEntityCramming",
                  "mobGriefing",
                  "naturalRegeneration",
                  "playersSleepingPercentage",
                  "randomTickSpeed",
                  "reducedDebugInfo",
                  "sendCommandFeedback",
                  "showDeathMessages",
                  "spawnRadius",
                  "spectatorsGenerateChunks",
                  "universalAnger",
                  "disableRaids",
                  "doImmediateRespawn",
                  "doPatrolSpawning",
                  "doTraderSpawning",
                  "forgiveDeadPlayers",
                  "keepInventory",
                  "logAdminCommands",
                  "maxCommandChainLength",
                  "maxEntityCramming",
                  "mobGriefing",
                  "naturalRegeneration",
                  "playersSleepingPercentage",
                  "randomTickSpeed",
                  "reducedDebugInfo",
                  "sendCommandFeedback",
                  "showDeathMessages",
                  "spawnRadius",
                  "spectatorsGenerateChunks",
                  "universalAnger"
                ]
              },
              "value": {
                "type": [
                  "boolean",
                  "number"
                ],
                "description": "ゲームルールの値です。"
              }
            },
            "required": [
              "rule"
            ]
          },
          "init": {
            "$ref": "#/definitions/action/definitions/world"
          },
          "load": {
            "$ref": "#/definitions/action/definitions/world"
          },
          "save": {
            "$ref": "#/definitions/action/definitions/world"
          },
          "unload": {
            "$ref": "#/definitions/action/definitions/world"
          }
        }
      }
    },
    "location": {
      "type": "object",
      "properties": {
        "x": {
          "type": "number",
          "description": "X 座標です。"
        },
        "y": {
          "type": "number",
          "description": "Y 座標です。"
        },
        "z": {
          "type": "number",
          "description": "Z 座標です。"
        },
        "yaw": {
          "type": "number",
          "description": "YAW 座標です。"
        },
        "pitch": {
          "type": "number",
          "description": "PITCH 座標です。"
        },
        "world": {
          "type": "string",
          "description": "ワールド名です。",
          "default": "world",
          "pattern": "^[a-zA-Z0-9_]+$"
        }
      },
      "required": [
        "x",
        "y",
        "z"
      ]
    },
    "block": {
      "type": "object",
      "description": "ブロックです。",
      "properties": {
        "type": {
          "type": "string",
          "description": "ブロックの種類です。"
        },
        "location": {
          "type": "object",
          "description": "ブロックの座標です。",
          "$ref": "#/definitions/location"
        },
        "metadata": {
          "type": "object",
          "description": "ブロックのメタデータです。",
          "additionalProperties": true
        },
        "light": {
          "type": "number",
          "description": "ブロックの明るさです。",
          "minimum": 0,
          "maximum": 15
        },
        "biome": {
          "type": "string",
          "description": "ブロックのバイオームです。",
          "enum": [
            "OCEAN",
            "PLAINS",
            "DESERT",
            "MOUNTAINS",
            "FOREST",
            "TAIGA",
            "SWAMP",
            "RIVER",
            "NETHER_WASTES",
            "THE_END",
            "FROZEN_OCEAN",
            "FROZEN_RIVER",
            "SNOWY_TUNDRA",
            "SNOWY_MOUNTAINS",
            "MUSHROOM_FIELDS",
            "MUSHROOM_FIELD_SHORE",
            "BEACH",
            "DESERT_HILLS",
            "WOODED_HILLS",
            "TAIGA_HILLS",
            "MOUNTAIN_EDGE",
            "JUNGLE",
            "JUNGLE_HILLS",
            "JUNGLE_EDGE",
            "DEEP_OCEAN",
            "STONE_SHORE",
            "SNOWY_BEACH",
            "BIRCH_FOREST",
            "BIRCH_FOREST_HILLS",
            "DARK_FOREST",
            "SNOWY_TAIGA",
            "SNOWY_TAIGA_HILLS",
            "GIANT_TREE_TAIGA",
            "GIANT_TREE_TAIGA_HILLS",
            "WOODED_MOUNTAINS",
            "SAVANNA",
            "SAVANNA_PLATEAU",
            "BADLANDS",
            "WOODED_BADLANDS_PLATEAU",
            "BADLANDS_PLATEAU",
            "SMALL_END_ISLANDS",
            "END_MIDLANDS",
            "END_HIGHLANDS",
            "END_BARRENS",
            "WARM_OCEAN",
            "LUKEWARM_OCEAN",
            "COLD_OCEAN",
            "DEEP_WARM_OCEAN",
            "DEEP_LUKEWARM_OCEAN",
            "DEEP_COLD_OCEAN",
            "DEEP_FROZEN_OCEAN",
            "THE_VOID",
            "SUNFLOWER_PLAINS",
            "DESERT_LAKES",
            "GRAVELLY_MOUNTAINS",
            "FLOWER_FOREST",
            "TAIGA_MOUNTAINS",
            "SWAMP_HILLS",
            "ICE_SPIKES",
            "MODIFIED_JUNGLE",
            "MODIFIED_JUNGLE_EDGE",
            "TALL_BIRCH_FOREST",
            "TALL_BIRCH_HILLS",
            "DARK_FOREST_HILLS",
            "SNOWY_TAIGA_MOUNTAINS",
            "GIANT_SPRUCE_TAIGA",
            "GIANT_SPRUCE_TAIGA_HILLS",
            "MODIFIED_GRAVELLY_MOUNTAINS",
            "SHATTERED_SAVANNA",
            "SHATTERED_SAVANNA_PLATEAU",
            "ERODED_BADLANDS",
            "MODIFIED_WOODED_BADLANDS_PLATEAU",
            "MODIFIED_BADLANDS_PLATEAU",
            "BAMBOO_JUNGLE",
            "BAMBOO_JUNGLE_HILLS",
            "SOUL_SAND_VALLEY",
            "CRIMSON_FOREST",
            "WARPED_FOREST",
            "BASALT_DELTAS",
            "CUSTOM"
          ]
        }
      }
    },
    "vector": {
      "description": "ベクトルです。",
      "$ref": "#/definitions/location"
    },
    "entity": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "description": "エンティティの種類です。"
        },
        "location": {
          "$ref": "#/definitions/location",
          "description": "エンティティの位置です。"
        },
        "velocity": {
          "$ref": "#/definitions/vector",
          "description": "エンティティの速度です。"
        },
        "customName": {
          "type": "string",
          "description": "エンティティのカスタム名です。",
          "maxLength": 16
        },
        "uuid": {
          "type": "string",
          "format": "uuid",
          "description": "エンティティの UUID です。"
        },
        "glowing": {
          "type": "boolean",
          "description": "エンティティが発光しているかどうかです。"
        },
        "gravity": {
          "type": "boolean",
          "description": "エンティティが重力を受けているかどうかです。"
        },
        "silent": {
          "type": "boolean",
          "description": "エンティティが音を発するかどうかです。"
        },
        "customNameVisible": {
          "type": "boolean",
          "description": "エンティティのカスタム名が表示されるかどうかです。"
        },
        "invulnerable": {
          "type": "boolean",
          "description": "エンティティが無敵かどうかです。"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "エンティティに付与されているスコアボードのタグです。"
        },
        "lastDamage": {
          "type": "object",
          "description": "エンティティが最後に受けたダメージです。",
          "properties": {
            "modifier": {
              "type": "string",
              "description": "ダメージの編集の種類です。",
              "enum": [
                "BASE",
                "HARD_HAT",
                "BLOCKING",
                "ARMOR",
                "RESISTANCE",
                "MAGIC",
                "ABSORPTION"
              ]
            },
            "cause": {
              "type": "string",
              "description": "ダメージの原因です。",
              "enum": [
                "contact",
                "entity_attack",
                "projectile",
                "suffocation",
                "fall",
                "fire",
                "fire_tick",
                "melting",
                "lava",
                "drowning",
                "block_explosion",
                "entity_explosion",
                "void",
                "lightning",
                "suicide",
                "starvation",
                "poison",
                "magic",
                "water",
                "falling_block",
                "thorns",
                "dragon_breath",
                "custom",
                "fly_into_wall",
                "hot_floor",
                "cramming",
                "dryout",
                "CONTACT",
                "ENTITY_ATTACK",
                "PROJECTILE",
                "SUFFOCATION",
                "FALL",
                "FIRE",
                "FIRE_TICK",
                "MELTING",
                "LAVA",
                "DROWNING",
                "BLOCK_EXPLOSION",
                "ENTITY_EXPLOSION",
                "VOID",
                "LIGHTNING",
                "SUICIDE",
                "STARVATION",
                "POISON",
                "MAGIC",
                "WATER",
                "FALLING_BLOCK",
                "THORNS",
                "DRAGON_BREATH",
                "CUSTOM",
                "FLY_INTO_WALL",
                "HOT_FLOOR",
                "CRAMMING",
                "DRYOUT"
              ]
            },
            "amount": {
              "type": "number",
              "description": "ダメージの量です。小数点を含められます。"
            }
          },
          "required": [
            "amount",
            "cause",
            "modifier"
          ]
        },
        "maxHealth": {
          "type": "number",
          "description": "エンティティの最大体力です。"
        },
        "health": {
          "type": "number",
          "description": "エンティティの体力です。"
        },
        "potions": {
          "type": "array",
          "description": "エンティティにかかっているポーション効果を設定します。",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "description": "ポーション効果の種類です。",
                "enum": [
                  "speed",
                  "slow",
                  "fast_digging",
                  "slow_digging",
                  "increase_damage",
                  "heal",
                  "harm",
                  "jump",
                  "confusion",
                  "regeneration",
                  "damage_resistance",
                  "fire_resistance",
                  "water_breathing",
                  "invisibility",
                  "blindness",
                  "night_vision",
                  "hunger",
                  "weakness",
                  "poison",
                  "wither",
                  "health_boost",
                  "absorption",
                  "saturation",
                  "glowing",
                  "levitation",
                  "luck",
                  "unluck",
                  "slow_falling",
                  "conduit_power",
                  "dolphins_grace",
                  "bad_omen",
                  "hero_of_the_village",
                  "SPEED",
                  "SLOW",
                  "FAST_DIGGING",
                  "SLOW_DIGGING",
                  "INCREASE_DAMAGE",
                  "HEAL",
                  "HARM",
                  "JUMP",
                  "CONFUSION",
                  "REGENERATION",
                  "DAMAGE_RESISTANCE",
                  "FIRE_RESISTANCE",
                  "WATER_BREATHING",
                  "INVISIBILITY",
                  "BLINDNESS",
                  "NIGHT_VISION",
                  "HUNGER",
                  "WEAKNESS",
                  "POISON",
                  "WITHER",
                  "HEALTH_BOOST",
                  "ABSORPTION",
                  "SATURATION",
                  "GLOWING",
                  "LEVITATION",
                  "LUCK",
                  "UNLUCK",
                  "SLOW_FALLING",
                  "CONDUIT_POWER",
                  "DOLPHINS_GRACE",
                  "BAD_OMEN",
                  "HERO_OF_THE_VILLAGE"
                ]
              },
              "duration": {
                "type": "number",
                "description": "ポーション効果の持続時間です。"
              },
              "amplifier": {
                "type": "number",
                "description": "ポーション効果の強さです。"
              },
              "ambient": {
                "type": "boolean",
                "description": "ポーション効果がアンビエントかどうかです。"
              },
              "particles": {
                "type": "boolean",
                "description": "ポーション効果がパーティクルを出すかどうかです。"
              },
              "icon": {
                "type": "boolean",
                "description": "ポーション効果のアイコンを表示するかどうかです。"
              }
            }
          }
        },
        "fireTicks": {
          "type": "number",
          "description": "エンティティが燃えている時間です。"
        },
        "ticksLived": {
          "type": "number",
          "description": "エンティティが生きている時間です。"
        },
        "portalCooldown": {
          "type": "number",
          "description": "エンティティがポータルに入れるようになるまでの時間です。"
        },
        "persistent": {
          "type": "boolean",
          "description": "エンティティが永続的かどうかです。"
        },
        "fallDistance": {
          "type": "number",
          "description": "エンティティが落下した距離です。"
        }
      }
    },
    "entityItem": {
      "type": "object",
      "description": "アイテムのエンティティを表します。",
      "$ref": "#/definitions/entity",
      "$comment": "多重継承はできないので、 itemStack のプロパティをそっくりそのままコピーします。",
      "properties": {
        "pickupDelay": {
          "type": "number",
          "description": "アイテムを拾えるようになるまでの時間です。"
        },
        "owner": {
          "type": "string",
          "format": "uuid",
          "description": "アイテムの所有者のUUIDです。"
        },
        "thrower": {
          "type": "string",
          "format": "uuid",
          "description": "アイテムを投げたプレイヤーのUUIDです。"
        },
        "canMobPickup": {
          "type": "boolean",
          "description": "モブがアイテムを拾えるかどうかです。"
        },
        "canPlayerPickup": {
          "type": "boolean",
          "description": "プレイヤーがアイテムを拾えるかどうかです。"
        },
        "type": {
          "type": "string",
          "description": "アイテムの種類です。"
        },
        "amount": {
          "type": "integer",
          "description": "アイテムの個数です。省略時は 1 です。"
        },
        "name": {
          "type": "string",
          "description": "アイテムの名前です。 一般に displayName と同じです。"
        },
        "localizedName": {
          "type": "string",
          "description": "アイテムの多言語化された名前です。"
        },
        "lores": {
          "type": "array",
          "description": "アイテムの説明文です。",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "attributeModifier": {
      "type": "object",
      "description": "属性の変更設定を表します。",
      "properties": {
        "uuid": {
          "type": "string",
          "format": "uuid",
          "description": "属性の変更設定のUUIDです。"
        },
        "name": {
          "type": "string",
          "description": "属性の変更設定の名前です。"
        },
        "amount": {
          "type": "number",
          "description": "属性の変更設定の量です。"
        },
        "operation": {
          "type": "string",
          "description": "属性の変更設定の操作です。",
          "enum": [
            "add_number",
            "add_scalar",
            "multiply_scalar_1",
            "ADD_NUMBER",
            "ADD_SCALAR",
            "MULTIPLY_SCALAR_1"
          ]
        }
      }
    },
    "itemStack": {
      "type": "object",
      "description": "アイテムスタックを表します。",
      "properties": {
        "type": {
          "type": "string",
          "description": "アイテムの種類です。"
        },
        "amount": {
          "type": "integer",
          "description": "アイテムの個数です。省略時は 1 です。"
        },
        "name": {
          "type": "string",
          "description": "アイテムの名前です。 一般に displayName と同じです。"
        },
        "localizedName": {
          "type": "string",
          "description": "アイテムの多言語化された名前です。"
        },
        "lores": {
          "type": "array",
          "description": "アイテムの説明文です。",
          "items": {
            "type": "string"
          }
        },
        "placeables": {
          "type": "array",
          "description": "アイテムの設置可能なブロックです。",
          "items": {
            "$ref": "#/definitions/namespacedKey"
          }
        },
        "destroyables": {
          "type": "array",
          "description": "アイテムの破壊可能なブロックです。",
          "items": {
            "$ref": "#/definitions/namespacedKey"
          }
        },
        "customModel": {
          "type": "integer",
          "description": "アイテムのカスタムモデルデータです。"
        },
        "enchants": {
          "type": "object",
          "description": "アイテムにかかっているエンチャントを設定します。オブジェクトのキーがエンチャントの種類、値がエンチャントのレベル(int)です。",
          "additionalProperties": true
        },
        "flags": {
          "type": "array",
          "description": "アイテムのフラグを設定します。",
          "items": {
            "type": "string",
            "enum": [
              "HIDE_ENCHANTS",
              "HIDE_ATTRIBUTES",
              "HIDE_UNBREAKABLE",
              "HIDE_DESTROYS",
              "HIDE_PLACED_ON",
              "HIDE_POTION_EFFECTS",
              "HIDE_DYE",
              "hide_enchants",
              "hide_attributes",
              "hide_unbreakable",
              "hide_destroys",
              "hide_placed_on",
              "hide_potion_effects",
              "hide_dye"
            ]
          }
        },
        "unbreakable": {
          "type": "boolean",
          "description": "アイテムが耐久無限かどうかです。"
        },
        "attributes": {
          "type": "object",
          "description": "アイテムにかかっている属性を設定します。",
          "patternProperties": {
            "^[a-zA-Z_]+$": {
              "$ref": "#/definitions/attributeModifier"
            }
          }
        },
        "damage": {
          "type": "integer",
          "description": "アイテムの耐久値です。"
        }
      },
      "required": [
        "type"
      ]
    },
    "inventory": {
      "type": "object",
      "description": "インベントリを表します。",
      "properties": {
        "size": {
          "type": "integer",
          "description": "インベントリのサイズです。",
          "default": 36,
          "multipleOf": 9
        },
        "title": {
          "type": "string",
          "description": "インベントリのタイトルです。",
          "maxLength": 32
        },
        "items": {
          "type": "object",
          "description": "インベントリのアイテムです。キーがスロット番号で、値がアイテムスタックです。",
          "patternProperties": {
            "^\\d+$": {
              "$ref": "#/definitions/itemStack"
            }
          }
        }
      }
    },
    "playerInventory": {
      "description": "プレイヤーのインベントリを表します。",
      "properties": {
        "main": {
          "$ref": "#/definitions/inventory",
          "description": "インベントリのメインの部分です。"
        },
        "mainHandItem": {
          "$ref": "#/definitions/itemStack",
          "description": "インベントリのメインハンドのアイテムです。"
        },
        "offHandItem": {
          "$ref": "#/definitions/itemStack",
          "description": "インベントリのオフハンドのアイテムです。"
        },
        "armors": {
          "type": "array",
          "description": "インベントリのアーマーのアイテムです。上から順にヘルメット、チェストプレート、レギンス、ブーツです。どこかが空いている場合は null を格納します。",
          "items": {
            "anyOf": [
              {
                "type": "null"
              },
              {
                "$ref": "#/definitions/itemStack"
              }
            ]
          },
          "minItems": 4,
          "maxItems": 4
        }
      }
    },
    "actor": {
      "$ref": "#/definitions/entity",
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "アクターの名前です。",
          "maxLength": 16
        },
        "online": {
          "type": "boolean",
          "description": "アクターがオンラインかどうかです。",
          "default": true
        },
        "displayName": {
          "type": "string",
          "description": "アクターの表示名です。"
        },
        "playerList": {
          "type": "object",
          "description": "アクターのプレイヤーリストにおける扱いです。",
          "properties": {
            "name": {
              "type": "string",
              "description": "プレイヤーリストに表示される名前です。"
            },
            "header": {
              "type": "string",
              "description": "プレイヤーリストに表示されるヘッダーです。"
            },
            "footer": {
              "type": "string",
              "description": "プレイヤーリストに表示されるフッターです。"
            }
          }
        },
        "compass": {
          "$ref": "#/definitions/location",
          "description": "アクターのコンパスのターゲットです。"
        },
        "bedLocation": {
          "$ref": "#/definitions/location",
          "description": "アクターのベッドスポーンの位置です。"
        },
        "exp": {
          "type": "integer",
          "description": "アクターの経験値です。"
        },
        "level": {
          "type": "integer",
          "description": "アクターのレベルです。"
        },
        "totalExp": {
          "type": "integer",
          "description": "アクターの総経験値です。"
        },
        "flyable": {
          "type": "boolean",
          "description": "アクターが飛行できるかどうかです。ゲームモードがクリエイティブおよびスペクテイタの場合は, 暗黙的に true になります。"
        },
        "flying": {
          "type": "boolean",
          "description": "アクターが飛行中かどうかです。"
        },
        "walkSpeed": {
          "type": "number",
          "description": "アクターの歩行速度です。"
        },
        "flySpeed": {
          "type": "number",
          "description": "アクターの飛行速度です。"
        },
        "inventory": {
          "$ref": "#/definitions/playerInventory",
          "description": "アクターのインベントリです。"
        },
        "enderChest": {
          "$ref": "#/definitions/inventory",
          "description": "アクターのエンダーチェストです。"
        },
        "mainHand": {
          "type": "string",
          "description": "アクターの利き手です。",
          "enum": [
            "left",
            "right",
            "LEFT",
            "RIGHT"
          ],
          "default": "right"
        },
        "gamemode": {
          "type": "string",
          "description": "アクターのゲームモードです。",
          "enum": [
            "survival",
            "creative",
            "adventure",
            "spectator",
            "SURVIVAL",
            "CREATIVE",
            "ADVENTURE",
            "SPECTATOR"
          ],
          "default": "survival"
        },
        "foodLevel": {
          "type": "integer",
          "description": "アクターの食料レベルです。",
          "minimum": 0,
          "maximum": 20,
          "default": 20
        },
        "op": {
          "type": [
            "boolean",
            "integer"
          ],
          "minimum": 0,
          "maximum": 4,
          "description": "アクターの OP レベルです。 0 は OP ではないことを意味します。"
        },
        "permissions": {
          "type": "array",
          "description": "アクターに与える権限です。",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "name"
      ]
    },
    "stage": {
      "type": "object",
      "description": "シナリオを実行するステージです。",
      "properties": {
        "copyOf": {
          "type": "string",
          "description": "オリジナルのワールドの名前です。サーバ上に存在するワールドをもとに, 新しくステージを作成します。"
        },
        "type": {
          "type": "string",
          "description": "ステージとして使用するワールドの種類です。",
          "enum": [
            "normal",
            "flat",
            "large_biomes",
            "amplified",
            "NORMAL",
            "FLAT",
            "LARGE_BIOMES",
            "AMPLIFIED"
          ],
          "default": "normal"
        },
        "seed": {
          "type": "number",
          "description": "ステージとして使用するワールドのシードです。"
        },
        "structures": {
          "type": "boolean",
          "description": "ステージとして使用するワールドに構造物を生成するかどうかです。",
          "default": true
        },
        "env": {
          "type": "string",
          "description": "ステージとして使用するワールドの環境です。",
          "enum": [
            "normal",
            "nether",
            "end",
            "custom",
            "NORMAL",
            "NETHER",
            "END",
            "CUSTOM"
          ],
          "default": "normal"
        },
        "hardcore": {
          "type": "boolean",
          "description": "ステージとして使用するワールドがハードコアかどうかです。",
          "default": false
        }
      }
    },
    "trigger": {
      "type": "object",
      "description": "トリガとよばれる, シナリオの実行条件のオブジェクトです。",
      "properties": {
        "type": {
          "type": "string",
          "description": "トリガの種類です。",
          "enum": [
            "manual_dispatch",
            "schedule",
            "on_action",
            "on_load"
          ]
        },
        "before": {
          "$ref": "#/definitions/scenarios",
          "description": "シナリオがこのトリガによって実行される場合, 本シナリオの実行前に実行するシナリオを定義します。"
        },
        "after": {
          "$ref": "#/definitions/scenarios",
          "description": "シナリオがこのトリガによって実行される場合, 本シナリオの実行後に実行するシナリオを定義します。"
        },
        "runif": {
          "type": "object",
          "description": "シナリオの実行条件を定義します。アクションで定義します。満たしていない場合はスキップされます。",
          "$ref": "#/definitions/action"
        }
      },
      "required": [
        "type"
      ],
      "allOf": [
        {
          "if": {
            "properties": {
              "type": {
                "const": "on_action"
              }
            }
          },
          "then": {
            "$ref": "#/definitions/action"
          }
        }
      ]
    }
  },
  "properties": {
    "scenamatica": {
      "$ref": "#/definitions/version",
      "description": "対応する Scenamatica のバージョンです。動作している Scenamatica のバージョンよりも新しいバージョンのシナリオファイルは読み込めません。"
    },
    "name": {
      "type": "string",
      "description": "シナリオにつける一意の識別子です。キャメルケースが推奨されていますが、特に技術的制約はありません。",
      "pattern": "^[\\w-_]+$",
      "examples": [
        "myScenario"
      ]
    },
    "description": {
      "type": "string",
      "description": "人間が読みやすいシナリオの説明です。シナリオの概要を記述してください。",
      "examples": [
        "あのイーハトーヴォのすきとおった風、夏でも底に冷たさをもつ青いそら、うつくしい森で飾られたモーリオ市、郊外のぎらぎらひかる草の波。"
      ]
    },
    "definitions": {
      "type": "object",
      "description": "シナリオ内で再利用できる定義を作成します。",
      "additionalProperties": true
    },
    "timeout": {
      "type": "integer",
      "description": "全体のタイムアウト時間を**チック**で指定します。-1 で無効化します。",
      "minimum": -1,
      "default": 6000
    },
    "order": {
      "type": "integer",
      "description": "シナリオの実行順序を指定します。小さいほど先に実行されます。",
      "default": 2147483647
    },
    "on": {
      "type": "array",
      "description": "シナリオの実行条件を定義します。シナリオは, この配列の要素のいずれかに一致するときに実行されます。何も指定しない場合、そのシナリオは一生実行されません。",
      "items": {
        "$ref": "#/definitions/trigger"
      },
      "minItems": 1
    },
    "context": {
      "type": "object",
      "description": "シナリオの実行に必要な情報や準備を定義します。シナリオの実行に必要な情報や準備がない場合、このプロパティは省略できます。",
      "properties": {
        "actors": {
          "type": "array",
          "description": "シナリオの実行に必要なアクターを定義します。必要なアクターは, 適宜自動生成されます。",
          "items": {
            "$ref": "#/definitions/actor"
          }
        },
        "stage": {
          "$ref": "#/definitions/stage",
          "description": "シナリオの実行に必要なステージを定義します。ステージが指定されている場合, シナリオ開始時に自動的に生成されます。"
        }
      },
      "additionalProperties": false
    },
    "runif": {
      "type": "object",
      "description": "シナリオの実行条件を定義します。アクションで定義します。満たしていない場合はスキップされます。",
      "$ref": "#/definitions/action"
    },
    "scenario": {
      "$ref": "#/definitions/scenarios",
      "description": "このシナリオファイルの本シナリオを定義します。",
      "minItems": 1
    }
  },
  "required": [
    "scenamatica",
    "name",
    "on",
    "scenario"
  ],
  "additionalProperties": true
}
